/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
import { _installMsgImplementation } from '../lit-localize.js';
import { runtimeMsg } from '../internal/runtime-msg.js';
/**
 * Set configuration parameters for lit-localize when in reentrant mode.
 *
 * Throws if called more than once.
 */
export const configureReentrantLocalization = ({ sourceLocale, targetLocales, getLocale, loadLocaleSync, }) => {
    const targetLocalesSet = new Set(targetLocales);
    _installMsgImplementation(((template, options) => {
        var _a;
        const locale = getLocale();
        const templates = locale !== sourceLocale && targetLocalesSet.has(locale)
            ? (_a = loadLocaleSync(locale)) === null || _a === void 0 ? void 0 : _a.templates
            : undefined;
        return runtimeMsg(templates, template, options);
    }));
    return {};
};
//# sourceMappingURL=reentrant.js.map